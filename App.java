package richtext;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class App {

	public static void main(String[] args) {
		String regex = "<p.*?>([\\s\\S]*?)</p>";
//		String str = "<p style=\"font-size: 18px; color: rgb(255, 0, 0);\"><span style=\"font-size: 18px; color: rgb(255, 0, 0);\"><span style=\"color: rgb(255, 0, 0); font-size: 18px;\">体检卡有效期为购买之日起一年内</span></span></p><p><span style=\"font-size: 18px; color: rgb(255, 0, 0);\"><span style=\"font-size: 18px; color: rgb(255, 0, 0);\">注：平台所售体检卡均为电子体检卡，客户下单成功之后，会有客服联系确认体检信息，24小时之内会收到电子体检卡号，客户凭电子卡号至体检中心进行体检。</span>&nbsp;</span></p><p><span style=\"font-size: 18px; color: rgb(255, 0, 0);\"><img src=\"/images/richText/110/eacd84b6-7398-4404-82d6-24edacf8b0dc.jpg\" title=\"/images/richText/110/eacd84b6-7398-4404-82d6-24edacf8b0dc.jpg\" alt=\"详情页-VIP6(N12) 副本.jpg\"/></span></p>";
//		String str = "<p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\">本品是以番茄红素、大豆油、蜂蜡、明胶、甘油、纯化水、红氧化铁为主要原料制成的保健食品，经动物功能试验证明，具有增强免疫力的保健功能。</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><img src=\"/images/richText/110/034477ae-35d3-43c0-b572-20b4a7eebbbc.jpg\" title=\"/images/richText/110/034477ae-35d3-43c0-b572-20b4a7eebbbc.jpg\" alt=\"20160314_160933_069.jpg\"/><img src=\"/images/richText/110/c7dff6f3-cd4d-47ea-9823-4a0f0458d34c.jpg\" title=\"/images/richText/110/c7dff6f3-cd4d-47ea-9823-4a0f0458d34c.jpg\" alt=\"20160314_160933_071.jpg\"/><img src=\"/images/richText/110/129faae7-94ce-4e58-b53d-8078be5d688e.jpg\" title=\"/images/richText/110/129faae7-94ce-4e58-b53d-8078be5d688e.jpg\" alt=\"20160314_160933_072.jpg\"/><img src=\"/images/richText/110/e49f18f1-5e9e-4dd5-8aee-188d83424e9d.jpg\" title=\"/images/richText/110/e49f18f1-5e9e-4dd5-8aee-188d83424e9d.jpg\" alt=\"20160314_160933_073.jpg\"/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>产 品 名 称&nbsp;<span style=\";padding: 0px;list-style: none\">]&nbsp;</span>金奥力牌番茄红素软胶囊</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>配<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;&nbsp;</span>料<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;&nbsp;</span>表&nbsp;<span style=\";padding: 0px;list-style: none\">]&nbsp;</span>番茄红素、大豆油、蜂蜡、明胶、甘油、纯净水、红氧化铁</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><br/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[</span>标志性成份及含量<span style=\";padding: 0px;list-style: none\">]</span>每<span style=\";padding: 0px;list-style: none\">100g</span>含：番茄红素<span style=\";padding: 0px;list-style: none\">&nbsp;0.689g</span></strong></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>保 健<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>功 能&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>增强免疫力</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>适 宜<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>人 群&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>免疫力低下者</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><br/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span></strong><strong style=\";padding: 0px;list-style: none\">不适宜人群&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>少年儿童</strong></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[</span>食用方法及食用量<span style=\";padding: 0px;list-style: none\">]</span>每日<span style=\";padding: 0px;list-style: none\">3</span>次，每次<span style=\";padding: 0px;list-style: none\">1</span>粒，口服</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[</span>规<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>格<span style=\";padding: 0px;list-style: none\">]0.5g/</span>粒</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>保<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;&nbsp;</span>质<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;&nbsp;</span>期&nbsp;<span style=\";padding: 0px;list-style: none\">]24</span>个月</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>贮 藏<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>方 法&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>密封，于阴凉、通风、干燥处</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><br/></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>执 行<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>标 准&nbsp;<span style=\";padding: 0px;list-style: none\">]Q/WZK&nbsp; 0030S</span></strong></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 20px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\">&nbsp;</p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span>食品卫生许可证号&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>鲁卫食证字（<span style=\";padding: 0px;list-style: none\">2007</span>）第<span style=\";padding: 0px;list-style: none\">370000-000372</span>号</strong></span></p><p style=\"margin-top: 0px;margin-bottom: 0px;padding: 0px;list-style: none;line-height: 23px;font-family: 宋体;font-size: 13.3333px;white-space: normal;background-color: rgb(255, 255, 255)\"><span style=\";padding: 0px;list-style: none;font-size: 14px\"><strong style=\";padding: 0px;list-style: none\"><span style=\";padding: 0px;list-style: none\">[&nbsp;</span></strong><strong style=\";padding: 0px;list-style: none\">注 意<span style=\";padding: 0px;list-style: none\">&nbsp;&nbsp;</span>事 项&nbsp;<span style=\";padding: 0px;list-style: none\">]</span>本品不能代替药物</strong></span></p><p><br/></p>";
//		String str = "<p><img src=\"/images/richText/110/034477ae-35d3-43c0-b572-20b4a7eebbbc.jpg\" title=\"/images/richText/110/034477ae-35d3-43c0-b572-20b4a7eebbbc.jpg\" alt=\"20160314_160933_069.jpg\"/><img src=\"/images/richText/110/c7dff6f3-cd4d-47ea-9823-4a0f0458d34c.jpg\" title=\"/images/richText/110/c7dff6f3-cd4d-47ea-9823-4a0f0458d34c.jpg\" alt=\"20160314_160933_071.jpg\"/><img src=\"/images/richText/110/129faae7-94ce-4e58-b53d-8078be5d688e.jpg\" title=\"/images/richText/110/129faae7-94ce-4e58-b53d-8078be5d688e.jpg\" alt=\"20160314_160933_072.jpg\"/><img src=\"/images/richText/110/e49f18f1-5e9e-4dd5-8aee-188d83424e9d.jpg\" title=\"/images/richText/110/e49f18f1-5e9e-4dd5-8aee-188d83424e9d.jpg\" alt=\"20160314_160933_073.jpg\"/></p>";
		String str = "<table align=\"center\" width=\"100%\"><tbody><tr class=\"firstRow\"><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">产品名称</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">天添牌锌灵冲剂</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">受让方地址</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\"><br/></td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">申请人中文名称</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">陕西微元佳族生物工程有限公司</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">申请人地址</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">西安市西影路70号</td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">保健功能</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">补锌</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">功效成分/标志性成分含量</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">每100g含：甘酸锌（以Zn计）95mg-105mg、维生素C：300mg-500mg。</td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">主要原料</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">甘氨酸锌、维生素C、白砂糖。</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">适宜人群</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">需要补锌者。</td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">不适宜人群</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">无</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">食用方法及食用量</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">幼儿每日1袋，儿童每日2袋，宜饭后冲服。</td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">产品规格</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">5g/袋。</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">保质期</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">18个月。</td></tr><tr><td bgcolor=\"#eaeaea\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">贮藏方法</td><td bgcolor=\"#eaeaea\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">阴凉密封干燥处。</td></tr><tr><td bgcolor=\"#ffffff\" width=\"17%\" style=\"margin: 0px; padding: 0px; text-align: right;\">注意事项</td><td bgcolor=\"#ffffff\" width=\"83%\" style=\"margin: 0px; padding: 0px;\">本品不能代替药物。</td></tr></tbody></table><p><br/></p><p>&nbsp;<img src=\"/images/richText/110/7869f246-b12a-46af-8ecc-860627eaf743.jpg\" title=\"/images/richText/110/7869f246-b12a-46af-8ecc-860627eaf743.jpg\" alt=\"20160804_150803_083.jpg\"/><img src=\"/images/richText/110/4dd8fa57-5746-4c83-9958-e1a51a146e55.jpg\" title=\"/images/richText/110/4dd8fa57-5746-4c83-9958-e1a51a146e55.jpg\" alt=\"20160804_150803_082.jpg\"/></p>";
		Matcher matcher = Pattern.compile(regex).matcher(str);
		System.out.println(URLTest.GetContent(str));
		System.out.println(URLTest.GetLabel(str));
		while (matcher.find()) {
//			
//			System.out.println(matcher.group(0));
//			System.out.println(MatchHtmlElementAttrValue.match(matcher.group(0), "img", "src"));
			System.out.println(URLTest.GetContent(matcher.group(0)));
			System.out.println(URLTest.GetLabel(matcher.group(0)));
			System.out.println("-----------------------------------------");

		}
//		System.out.println(delHTMLTag(str));
	}	
	
	
	private static String delHTMLTag(String htmlStr){         
		String regEx_style="<style[^>]*?>[\\s\\S]*?<\\/style>"; //定义style的正则表达式        
		String regEx_html="<[^>]+>"; //定义HTML标签的正则表达式                  
		Pattern p_style=Pattern.compile(regEx_style,Pattern.CASE_INSENSITIVE);         
		Matcher m_style=p_style.matcher(htmlStr);         
		htmlStr=m_style.replaceAll(""); //过滤style标签                 
		Pattern p_html=Pattern.compile(regEx_html,Pattern.CASE_INSENSITIVE);         
		Matcher m_html=p_html.matcher(htmlStr);         
		htmlStr=m_html.replaceAll(""); //过滤html标签                 
		htmlStr=htmlStr.replace("","");        
		htmlStr=htmlStr.replaceAll("\\s*|\t|\r|\n","");        
		htmlStr=htmlStr.replace("“","");        
		htmlStr=htmlStr.replace("”","");        
		htmlStr=htmlStr.replaceAll("　","");                  
		return htmlStr.trim(); //返回文本字符串     
		} 
}
